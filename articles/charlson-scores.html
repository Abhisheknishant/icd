<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Charlson and Van Walraven scores â€¢ Comorbidity calculations and tools for ICD-9 and ICD-10 codes</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Charlson and Van Walraven scores">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Comorbidity calculations and tools for ICD-9 and ICD-10 codes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/CMS-HCC.html">Using Hierarchical Condition Codes</a>
    </li>
    <li>
      <a href="../articles/ICD-10.html">ICD-10 comorbidities</a>
    </li>
    <li>
      <a href="../articles/PCCC.html">Pediatric Complex Chronic Conditions</a>
    </li>
    <li>
      <a href="../articles/charlson-scores.html">Charlson and Van Walraven scores</a>
    </li>
    <li>
      <a href="../articles/compare-maps.html">Comparing Comorbidity Mappings</a>
    </li>
    <li>
      <a href="../articles/country-lang-vers-prebuilt.html">Working with World Health Organization ICD codes and national editions, and different languages</a>
    </li>
    <li>
      <a href="../articles/custom-maps.html">Quick custom comorbidity maps are helpful</a>
    </li>
    <li>
      <a href="../articles/efficiency-prebuilt.pdf">icd: Efficient Computation of Comorbidities from ICD Codes Using Sparse Matrix Multiplication in R (PDF)</a>
    </li>
    <li>
      <a href="../articles/introduction.html">An Introduction to icd</a>
    </li>
    <li>
      <a href="../articles/ranges.html">Ranges of ICD codes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Charlson and Van Walraven scores</h1>
                        <h4 class="author">Jack O. Wasey</h4>
            
            <h4 class="date">2019-05-12</h4>
      
      
      <div class="hidden name"><code>charlson-scores.Rmd</code></div>

    </div>

    
    
<!--
Copyright (C) 2014 - 2019  Jack O. Wasey

This file is part of icd.

icd is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

icd is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with icd. If not, see <http:#www.gnu.org/licenses/>.
-->
<div id="icd-code-scoring-systems" class="section level2">
<h2 class="hasAnchor">
<a href="#icd-code-scoring-systems" class="anchor"></a>ICD code scoring systems</h2>
<p>A common use of ICD codes is calculation as a Charlson score, which gives a measure of how well a patient is, albeit based on the limited available in admission and discharge diagnoses. The Charlson scoring system attributes scores based on presence of diseases falling into any of the Charlson comorbidities. Quan updated the scores given to each comorbidity to better reflect morbidity and mortality in a more recent population. Van Walraven provides a similar scoring methodology for the Elixhauser comorbidities (as used by the US AHRQ).</p>
<p>More complicated scoring systems may use lab values, patient demographic information, and so on. Any contributions to this package for calculations of scoring systems based on comorbidities and other data would be welcome.</p>
</div>
<div id="vermont-example-data-charlson-scores" class="section level2">
<h2 class="hasAnchor">
<a href="#vermont-example-data-charlson-scores" class="anchor"></a>Vermont example data, Charlson scores</h2>
<p>The Vermont data are actually discharge, not admission diagnoses, but can be used to demonstrate generating Charlson scores.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(vermont_dx[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#&gt;   visit_id   age_group    sex death DRG   DX1   DX2   DX3   DX4   DX5</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; 1        7       40-44   male  TRUE 640 27801 03842 51881 41519 99591</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; 2       10 75 and over female FALSE 470 71526 25000 42830  4280  4019</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; 3       13 75 and over female FALSE 470 71535 59651 78052 27800 V8537</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; 4       16       55-59 female FALSE 470 71535 49390 53081 27800  V140</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; 5       37       70-74   male FALSE 462 71536  4241  2859  2720  4414</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; 6       41       70-74   male FALSE 462 71536 V1259 V1582  V160  V171</span></a>
<a class="sourceLine" id="cb1-9" title="9">vch &lt;-<span class="st"> </span><span class="kw"><a href="../reference/charlson.html">charlson</a></span>(vermont_dx)</a>
<a class="sourceLine" id="cb1-10" title="10"><span class="kw"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(vch)</a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt;   0.000   0.000   1.000   1.573   2.000   9.000</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(vch)</a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt;  7 10 13 16 37 41 </span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="co">#&gt;  5  3  0  1  1  0</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(vch))</a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co">#&gt; [1] "7"  "10" "13" "16" "37" "41"</span></a></code></pre></div>
<p>This default result is a numeric vector with the names (top numbers) as the patient identifiers. Those who like working with â€˜tidyâ€™ data frames can use:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw"><a href="../reference/charlson.html">charlson</a></span>(vermont_dx, <span class="dt">return_df =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt;   visit_id Charlson</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; 1        7        5</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="co">#&gt; 2       10        3</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="co">#&gt; 3       13        0</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; 4       16        1</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; 5       37        1</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; 6       41        0</span></a></code></pre></div>
<p>Behind the scenes, <em>icd</em> calculates the Charlson comorbidities for those ICD codes, applies the Charlson scoring system, and returns the Charlson score for each patient.</p>
</div>
<div id="vermont-example-data-van-walraven-scores" class="section level2">
<h2 class="hasAnchor">
<a href="#vermont-example-data-van-walraven-scores" class="anchor"></a>Vermont example data, Van Walraven scores</h2>
<p>The same principle can be used to calculate the Van Walraven score, which is the Charlson score counterpart for Elixhauser comorbidities.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="st">`</span><span class="dt">Vermont Van Walraven Scores</span><span class="st">`</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/van_walraven.html">van_walraven</a></span>(vermont_dx)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw"><a href="https://rdrr.io/r/graphics/hist.html">hist</a></span>(<span class="st">`</span><span class="dt">Vermont Van Walraven Scores</span><span class="st">`</span>)</a></code></pre></div>
<p><img src="charlson-scores_files/figure-html/vermontvanwalraven-1.png" width="700"></p>
</div>
<div id="working-with-mixed-icd-9-and-icd-10-codes" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-mixed-icd-9-and-icd-10-codes" class="anchor"></a>Working with mixed ICD-9 and ICD-10 codes</h2>
<p>All the functions in <code>icd</code> work with one code type. They are tolerant of having different sub-types of ICD-9 or ICD-10 codes together for comorbidity calculations, but patients with mixed data can be combined. E.g. patient A has two ICD-9 and two ICD-10 codes:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">icd9 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">pts =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>, <span class="st">"A"</span>), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"041.04"</span>, <span class="st">"244.9"</span>))</a>
<a class="sourceLine" id="cb4-2" title="2">icd10 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">pts =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>, <span class="st">"A"</span>), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C82.28"</span>, <span class="st">"M08.979"</span>))</a>
<a class="sourceLine" id="cb4-3" title="3">both &lt;-<span class="st"> </span><span class="kw"><a href="../reference/comorbid.html">comorbid_elix</a></span>(icd9) <span class="op">|</span><span class="st"> </span><span class="kw"><a href="../reference/comorbid.html">comorbid_elix</a></span>(icd10)</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw"><a href="../reference/van_walraven.html">van_walraven_from_comorbid</a></span>(both)</a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt; A </span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; 9</span></a></code></pre></div>
<p>More commonly, some patients before a certain date will have ICD-9 codes, and others will have ICD-10 codes:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">icd9 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">pts =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>, <span class="st">"A"</span>), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"041.04"</span>, <span class="st">"244.9"</span>))</a>
<a class="sourceLine" id="cb5-2" title="2">icd10 &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">pts =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"B"</span>, <span class="st">"B"</span>), <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"C82.28"</span>, <span class="st">"M08.979"</span>))</a>
<a class="sourceLine" id="cb5-3" title="3">both &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span>(<span class="kw"><a href="../reference/comorbid.html">comorbid_elix</a></span>(icd9), <span class="kw"><a href="../reference/comorbid.html">comorbid_elix</a></span>(icd10))</a>
<a class="sourceLine" id="cb5-4" title="4"><span class="kw"><a href="../reference/van_walraven.html">van_walraven_from_comorbid</a></span>(both)</a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; A B </span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; 0 9</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#icd-code-scoring-systems">ICD code scoring systems</a></li>
      <li><a href="#vermont-example-data-charlson-scores">Vermont example data, Charlson scores</a></li>
      <li><a href="#vermont-example-data-van-walraven-scores">Vermont example data, Van Walraven scores</a></li>
      <li><a href="#working-with-mixed-icd-9-and-icd-10-codes">Working with mixed ICD-9 and ICD-10 codes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Jack O. Wasey, R Core Team.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
