<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Condense ICD-9 code by replacing complete families with parent codes — condense • Comorbidity calculations and tools for ICD-9 and ICD-10 codes</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Condense ICD-9 code by replacing complete families with parent codes — condense" />

<meta property="og:description" content="These functions take a set of ICD codes, and look for parent ICD codes in the
hierarchy. If all the children of a parent are found, then the returned
vector will just contain the parents of those codes. Any additional codes
which did not have all the siblings present are retained. This can be thought
of as the inverse operation to children." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Comorbidity calculations and tools for ICD-9 and ICD-10 codes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/CMS-HCC.html">Using Hierarchical Condition Codes</a>
    </li>
    <li>
      <a href="../articles/ICD-10.html">ICD-10 comorbidities</a>
    </li>
    <li>
      <a href="../articles/PCCC.html">Pediatric Complex Chronic Conditions</a>
    </li>
    <li>
      <a href="../articles/charlson-scores.html">Charlson and Van Walraven scores</a>
    </li>
    <li>
      <a href="../articles/compare-maps.html">Comparing Comorbidity Mappings</a>
    </li>
    <li>
      <a href="../articles/efficiency.pdf">icd: Efficient Computation of Comorbidities from ICD Codes Using Sparse Matrix Multiplication in R (PDF)</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Quick Introduction to icd</a>
    </li>
    <li>
      <a href="../articles/ranges.html">Ranges of ICD codes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Condense ICD-9 code by replacing complete families with parent codes</h1>
    
    <div class="hidden name"><code>condense.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>These functions take a set of ICD codes, and look for parent ICD codes in the
hierarchy. If all the children of a parent are found, then the returned
vector will just contain the parents of those codes. Any additional codes
which did not have all the siblings present are retained. This can be thought
of as the inverse operation to <code>children</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>condense</span>(<span class='no'>x</span>, <span class='kw'>short_code</span> <span class='kw'>=</span> <span class='fu'><a href='guess_short.html'>guess_short</a></span>(<span class='no'>x</span>), <span class='kw'>defined</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>)

<span class='co'># S3 method for character</span>
<span class='fu'>condense</span>(<span class='no'>x</span>, <span class='kw'>short_code</span> <span class='kw'>=</span> <span class='fu'><a href='guess_short.html'>guess_short</a></span>(<span class='no'>x</span>),
  <span class='kw'>defined</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>icd9_condense_decimal</span>(<span class='no'>x</span>, <span class='kw'>defined</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>keep_factor_levels</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>icd9_condense_short</span>(<span class='no'>x</span>, <span class='kw'>defined</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>keep_factor_levels</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>icd_condense.character</span>(<span class='no'>...</span>)

<span class='fu'>icd_condense.icd9</span>(<span class='no'>...</span>)

<span class='fu'>icd_condense</span>(<span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>short_code</th>
      <td><p>single logical value which determines whether the ICD-9
code provided is in short (<code>TRUE</code>) or decimal (<code>FALSE</code>) form.
Where reasonable, this is guessed from the input data.</p></td>
    </tr>
    <tr>
      <th>warn</th>
      <td><p>single logical value, if <code>TRUE</code>, give warnings when
there is discrepancy between <code>onlyReal</code> being <code>TRUE</code> yet data
containing undefined codes.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed on to other functions</p></td>
    </tr>
    <tr>
      <th>keep_factor_levels</th>
      <td><p>single logical value, default <code>FALSE</code>. If
<code>TRUE</code>, will reuse the factor levels from the input data for the
output data. This only applies if a factor is given for the input codes.</p></td>
    </tr>
    <tr>
      <th>icd9</th>
      <td><p>is a character vector or factor of ICD-9 codes. If fewer than five characters
is given in a code, then the digits are greedily assigned to hundreds, then
tens, then units, before the decimal parts. E.g. "10" becomes "010", not
"0010".</p></td>
    </tr>
    <tr>
      <th>icd9Short</th>
      <td><p>is a character vector of ICD-9 codes. If fewer than five characters is
given in a code, then the digits are greedily assigned to hundreds, then
tens, then units, before the decimal parts. E.g. "10" becomes "010", not
"0010"</p></td>
    </tr>
    <tr>
      <th>icd9Decimal</th>
      <td><p>character vector of ICD-9 codes. If fewer than five characters is given in a
code, then the digits are greedily assigned to hundreds, then tens, then
units, before the decimal parts. E.g. "10" becomes "010", not "0010"</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed on to other functions</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="methods-by-class-"><a class="anchor" href="#methods-by-class-"></a>Methods (by class)</h2>

    <ul>
<li><p><code>character</code>: Condense a set of ICD codes, guessing ICD version
from input data</p></li>
</ul>
    
    <h2 class="hasAnchor" id="deprecated-function-names"><a class="anchor" href="#deprecated-function-names"></a>Deprecated function names</h2>

    <p>Future versions of <span class="pkg">icd</span> will drop
  the <code>icd_</code> prefix. For example, <code>charlson</code> should be used in
  favor of <code>icd_charlson</code>. To distinguish <span class="pkg">icd</span> function calls,
  consider using the prefix <code>icd::</code> instead, e.g., <code><a href='charlson.html'>icd::charlson</a></code>.
  Functions which specifically operate on either ICD-9 or ICD-10 codes or
  their sub-types will retain the prefix. E.g.
  <code><a href='comorbid.html'>icd9_comorbid_ahrq</a></code>. <span class="pkg">icd</span> specific classes also retain
  the prefix, e.g., <code><a href='icd_long_data.html'>icd_wide_data</a></code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other ICD-9 ranges: <code><a href='children.html'>children</a></code>,
  <code><a href='expand_minor.html'>expand_minor</a></code>, <code><a href='expand_range.html'>expand_range</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>kids</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='children.html'>children</a></span>(<span class='st'>"V40"</span>)
<span class='no'>kids</span></div><div class='output co'>#&gt; [1] "V40"   "V400"  "V401"  "V402"  "V403"  "V4031" "V4039" "V409" </div><div class='input'><span class='fu'>condense</span>(<span class='no'>kids</span>, <span class='kw'>defined</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1] "V40"</div><div class='input'><span class='no'>kids_with_undefined</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='children.html'>children</a></span>(<span class='st'>"V40"</span>, <span class='kw'>defined</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>kids_with_undefined</span>)</div><div class='output co'>#&gt; [1] "V40"   "V400"  "V4000" "V4001" "V4002" "V4003"</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>kids_with_undefined</span>)</div><div class='output co'>#&gt; [1] 111</div><div class='input'><span class='fu'>condense</span>(<span class='no'>kids</span>, <span class='kw'>defined</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; [1] "V40"</div><div class='input'>
<span class='co'># what happens if we have additional codes?</span>
<span class='co'># (condense will warn if we don't explicitly ask to condense</span>
<span class='co'># based on defined or possible codes.)</span>
<span class='fu'>condense</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='no'>kids</span>, <span class='st'>"41100"</span>), <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; [1] "41100" "V40"  </div><div class='input'>
<span class='co'># a good use is to summarise the contents of a comorbidity:</span>
<span class='no'>icd9_map_elix</span>$<span class='no'>CHF</span></div><div class='output co'>#&gt;   [1] "39891" "40211" "40291" "40411" "40413" "40491" "40493" "4280"  "42800"
#&gt;  [10] "42801" "42802" "42803" "42804" "42805" "42806" "42807" "42808" "42809"
#&gt;  [19] "4281"  "42810" "42811" "42812" "42813" "42814" "42815" "42816" "42817"
#&gt;  [28] "42818" "42819" "4282"  "42820" "42821" "42822" "42823" "42824" "42825"
#&gt;  [37] "42826" "42827" "42828" "42829" "4283"  "42830" "42831" "42832" "42833"
#&gt;  [46] "42834" "42835" "42836" "42837" "42838" "42839" "4284"  "42840" "42841"
#&gt;  [55] "42842" "42843" "42844" "42845" "42846" "42847" "42848" "42849" "4285" 
#&gt;  [64] "42850" "42851" "42852" "42853" "42854" "42855" "42856" "42857" "42858"
#&gt;  [73] "42859" "4286"  "42860" "42861" "42862" "42863" "42864" "42865" "42866"
#&gt;  [82] "42867" "42868" "42869" "4287"  "42870" "42871" "42872" "42873" "42874"
#&gt;  [91] "42875" "42876" "42877" "42878" "42879" "4288"  "42880" "42881" "42882"
#&gt; [100] "42883" "42884" "42885" "42886" "42887" "42888" "42889" "4289"  "42890"
#&gt; [109] "42891" "42892" "42893" "42894" "42895" "42896" "42897" "42898" "42899"</div><div class='input'><span class='fu'>condense</span>(<span class='no'>icd9_map_elix</span>$<span class='no'>CHF</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; [1] "39891" "40211" "40291" "40411" "40413" "40491" "40493" "428"  </div><div class='input'><span class='co'># explaining big groups of codes takes advantage of this:</span>
<span class='fu'><a href='explain_code.html'>explain_code</a></span>(<span class='no'>icd9_map_elix</span>$<span class='no'>CHF</span>, <span class='kw'>condense</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>warn</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; [1] "Heart failure"                                                                                                                                          
#&gt; [2] "Rheumatic heart failure (congestive)"                                                                                                                   
#&gt; [3] "Benign hypertensive heart disease with heart failure"                                                                                                   
#&gt; [4] "Unspecified hypertensive heart disease with heart failure"                                                                                              
#&gt; [5] "Hypertensive heart and chronic kidney disease, benign, with heart failure and with chronic kidney disease stage I through stage IV, or unspecified"     
#&gt; [6] "Hypertensive heart and chronic kidney disease, benign, with heart failure and chronic kidney disease stage V or end stage renal disease"                
#&gt; [7] "Hypertensive heart and chronic kidney disease, unspecified, with heart failure and with chronic kidney disease stage I through stage IV, or unspecified"
#&gt; [8] "Hypertensive heart and chronic kidney disease, unspecified, with heart failure and chronic kidney disease stage V or end stage renal disease"           </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#methods-by-class-">Methods (by class)</a></li>

      <li><a href="#deprecated-function-names">Deprecated function names</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jack O. Wasey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.9000.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '797795ae271734faa8bc9b1f4aaae82b',
    indexName: 'icd',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

