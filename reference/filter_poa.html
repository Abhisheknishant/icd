<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Filters data frame based on present-on-arrival flag — filter_poa • Comorbidity calculations and tools for ICD-9 and ICD-10 codes</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lux/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Filters data frame based on present-on-arrival flag — filter_poa" />

<meta property="og:description" content="Present On Arrival (POA) is not a simple flag, since many codes are exempt,
unspecified, or unknown. Therefore, two options are given: get all the
comorbidities where the POA flag was definitely negative, coded as 'N' or
definitely positive and coded as 'Y'. Negating one set won't give the other
set unless all codes were either Y or N." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Comorbidity calculations and tools for ICD-9 and ICD-10 codes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/CMS-HCC.html">Using Hierarchical Condition Codes</a>
    </li>
    <li>
      <a href="../articles/ICD-10.html">ICD-10 comorbidities</a>
    </li>
    <li>
      <a href="../articles/PCCC.html">Pediatric Complex Chronic Conditions</a>
    </li>
    <li>
      <a href="../articles/charlson-scores.html">Charlson and Van Walraven scores</a>
    </li>
    <li>
      <a href="../articles/compare-maps.html">Comparing Comorbidity Mappings</a>
    </li>
    <li>
      <a href="../articles/country-lang-vers-prebuilt.html">Working with World Health Organization ICD codes and national editions, and different languages</a>
    </li>
    <li>
      <a href="../articles/custom-maps.html">Quick custom comorbidity maps are helpful</a>
    </li>
    <li>
      <a href="../articles/efficiency-prebuilt.pdf">icd: Efficient Computation of Comorbidities from ICD Codes Using Sparse Matrix Multiplication in R (PDF)</a>
    </li>
    <li>
      <a href="../articles/introduction.html">An Introduction to icd</a>
    </li>
    <li>
      <a href="../articles/ranges.html">Ranges of ICD codes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Filters data frame based on present-on-arrival flag</h1>
    
    <div class="hidden name"><code>filter_poa.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Present On Arrival (POA) is not a simple flag, since many codes are exempt,
unspecified, or unknown. Therefore, two options are given: get all the
comorbidities where the POA flag was definitely negative, coded as 'N' or
definitely positive and coded as 'Y'. Negating one set won't give the other
set unless all codes were either Y or N.</p>
    
    </div>

    <pre class="usage"><span class='fu'>filter_poa</span>(<span class='no'>x</span>, <span class='kw'>poa_name</span> <span class='kw'>=</span> <span class='st'>"poa"</span>, <span class='kw'>poa</span> <span class='kw'>=</span> <span class='no'>poa_choices</span>)

<span class='fu'>filter_poa_yes</span>(<span class='no'>x</span>, <span class='kw'>poa_name</span> <span class='kw'>=</span> <span class='st'>"poa"</span>)

<span class='fu'>filter_poa_no</span>(<span class='no'>x</span>, <span class='kw'>poa_name</span> <span class='kw'>=</span> <span class='st'>"poa"</span>)

<span class='fu'>filter_poa_not_no</span>(<span class='no'>x</span>, <span class='kw'>poa_name</span> <span class='kw'>=</span> <span class='st'>"poa"</span>)

<span class='fu'>filter_poa_not_yes</span>(<span class='no'>x</span>, <span class='kw'>poa_name</span> <span class='kw'>=</span> <span class='st'>"poa"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>input vector of ICD codes</p></td>
    </tr>
    <tr>
      <th>poa_name</th>
      <td><p>The name of column in the data frame which contains the
Present On Arrival (POA) flag. The flag itself is a single character,
typically one of &#8216;Y&#8217;, &#8216;N&#8217;, &#8216;E&#8217;, &#8216;X&#8217;,
&#8216;U&#8217;, or empty.</p></td>
    </tr>
    <tr>
      <th>poa</th>
      <td><p>single character value, being one of <code>Yes</code>, <code>No</code>,
<code>NotYes</code>, and <code>NotNo</code>, indicating whether to account for
comorbidities flagged as present-on-arrival. This is not a simple flag,
because many codes are exempt, unspecified, or unknown. The intermediate
codes, such as &#8216;exempt&#8217;, &#8216;unknown&#8217; and <code>NA</code> mean that
&#8216;yes&#8217; is not the same as &#8216;not no&#8217;.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="functions"><a class="anchor" href="#functions"></a>Functions</h2>

    <ul>
<li><p><code>filter_poa_yes</code>: Select rows where Present-on-Arrival flag is
explicitly 'Yes.'</p></li>
<li><p><code>filter_poa_no</code>: Select rows where Present-on-Arrival flag is
explicitly 'No.'</p></li>
<li><p><code>filter_poa_not_no</code>: Select rows where Present-on-Arrival flag is
anything but 'No.' This includes unknown, exempt, other codes, and of
course all those marked 'Yes.'</p></li>
<li><p><code>filter_poa_not_yes</code>: Select rows where Present-on-Arrival flag is
anything but 'Yes.' This would group exempt, unknown and other codes under
'Not POA' which is unlikely to be a good choice, since exempt codes, of
which there are a quite large number, tend to describe chronic or
out-of-hospital characteristics.</p></li>
</ul>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>icd</span>)
<span class='co'># magrittr not required for icd to work, just for this example</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>magrittr</span>, <span class='kw'>warn.conflicts</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>myData</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(
  <span class='kw'>visit_id</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"v1"</span>, <span class='st'>"v2"</span>, <span class='st'>"v3"</span>, <span class='st'>"v4"</span>),
  <span class='kw'>diag</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"39891"</span>, <span class='st'>"39790"</span>, <span class='st'>"41791"</span>, <span class='st'>"4401"</span>),
  <span class='kw'>poa</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Y"</span>, <span class='st'>"N"</span>, <span class='fl'>NA</span>, <span class='st'>"Y"</span>),
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)
<span class='no'>myData</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>filter_poa_not_no</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='comorbid.html'>comorbid_ahrq</a></span>()
<span class='co'># can fill out named fields also:</span>
<span class='no'>myData</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>filter_poa_yes</span>(<span class='kw'>poa_name</span> <span class='kw'>=</span> <span class='st'>"poa"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='comorbid.html'>comorbid_ahrq</a></span>(
    <span class='kw'>icd_name</span> <span class='kw'>=</span> <span class='st'>"diag"</span>, <span class='kw'>visit_name</span> <span class='kw'>=</span> <span class='st'>"visit_id"</span>,
    <span class='kw'>short_code</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
  )
<span class='no'>my_map</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>icd9_map_elix</span>)
<span class='co'># can call the core comorbid() function with an arbitrary mapping</span>
<span class='no'>myData</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>filter_poa_yes</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='comorbid.html'>comorbid</a></span>(
    <span class='kw'>icd_name</span> <span class='kw'>=</span> <span class='st'>"diag"</span>,
    <span class='kw'>visit_name</span> <span class='kw'>=</span> <span class='st'>"visit_id"</span>,
    <span class='kw'>map</span> <span class='kw'>=</span> <span class='no'>my_map</span>,
    <span class='kw'>short_map</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
  )
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#functions">Functions</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jack O. Wasey, R Core Team.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '797795ae271734faa8bc9b1f4aaae82b',
    indexName: 'icd',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

